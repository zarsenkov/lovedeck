<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <title>ALIAS NEO-POP</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-shell">
        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="home-btn" onclick="handleBack()"><i class="fas fa-home"></i></div>
        <div class="rules-btn" onclick="toggleModal('rules')">?</div>

        <!-- –•–µ–¥–µ—Ä –∏–≥—Ä—ã (–ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ª–æ–±–±–∏/–∏–≥—Ä–µ) -->
        <header class="pop-header" id="game-header">
            <div class="score-pill" id="score-display">–û—á–∫–∏: 0</div>
            <div class="timer-bubble" id="timer-display">60</div>
        </header>

        <!-- –≠–ö–†–ê–ù 1: –í–•–û–î -->
        <section id="screen-login" class="pop-screen active">
            <h1 class="pop-title">ALIAS<span>.POP</span></h1>
            
            <div style="margin-top: auto;">
                <p class="section-label">–í–∞—à –ø–æ–∑—ã–≤–Ω–æ–π</p>
                <input type="text" id="username" class="pop-input" placeholder="–ò–ú–Ø" maxlength="12">
                
                <button class="btn-pop-main" onclick="createRoom()">–°–û–ó–î–ê–¢–¨ –ò–ì–†–£</button>
                
                <div style="text-align: center; margin: 10px; font-weight: 900; opacity: 0.3;">–ò–õ–ò</div>
                
                <input type="text" id="room-input" class="pop-input" placeholder="–ö–û–î –ö–û–ú–ù–ê–¢–´" style="text-transform: uppercase;">
                <button class="btn-pop-main" style="background: var(--mint);" onclick="joinRoom()">–í–û–ô–¢–ò</button>
            </div>
        </section>

        <!-- –≠–ö–†–ê–ù 2: –õ–û–ë–ë–ò -->
        <section id="screen-lobby" class="pop-screen">
            <h1 class="pop-title" style="font-size: 2rem;">–ö–û–î: <span id="lobby-code">---</span></h1>
            
            <div class="pop-list" id="player-list">
                <!-- –ò–≥—Ä–æ–∫–∏ -->
            </div>

            <div id="host-settings" class="hidden">
                <p class="section-label">–í—Ä–µ–º—è —Ä–∞—É–Ω–¥–∞</p>
                <div class="chips-group">
                    <div class="pop-chip active" onclick="setSetting('time', 30, this)">30—Å</div>
                    <div class="pop-chip" onclick="setSetting('time', 60, this)">60—Å</div>
                    <div class="pop-chip" onclick="setSetting('time', 90, this)">90—Å</div>
                </div>
            </div>

            <button id="start-btn" class="btn-pop-main" style="display: none;" onclick="startGame()">–ü–û–ì–ù–ê–õ–ò üöÄ</button>
            <div id="wait-msg" class="summary-box">–ñ–î–ï–ú –•–û–°–¢–ê...</div>
        </section>

        <!-- –≠–ö–†–ê–ù 3: –û–ñ–ò–î–ê–ù–ò–ï –•–û–î–ê -->
        <section id="screen-ready" class="pop-screen">
            <div class="team-ready-box">
                <p class="section-label">–°–õ–ï–î–£–Æ–©–ò–ô –•–û–î</p>
                <h3 id="role-name">–û–ë–™–Ø–°–ù–Ø–Æ–©–ò–ô</h3>
                <div id="player-turn-name" style="font-weight: 900; margin-top: 10px;">–ê–õ–ï–ö–°–ï–ô</div>
            </div>
            <button id="ready-btn" class="btn-pop-main" onclick="playerReady()">–Ø –ì–û–¢–û–í!</button>
        </section>

        <!-- –≠–ö–†–ê–ù 4: –ò–ì–†–ê -->
        <section id="screen-game" class="pop-screen">
            <p class="swipe-hint">‚Üê –°–ö–ò–ü | –í–ï–†–ù–û ‚Üí</p>
            
            <div class="card-container">
                <div id="word-card" class="word-card">
                    <h2 id="word-display">–ó–ê–ì–†–£–ó–ö–ê...</h2>
                </div>
            </div>

            <div class="game-actions" id="judge-controls">
                <button class="btn-pop-main btn-skip" onclick="handleAction('skip')"><i class="fas fa-times"></i></button>
                <button class="btn-pop-main btn-check" onclick="handleAction('guessed')"><i class="fas fa-check"></i></button>
            </div>
        </section>

        <!-- –≠–ö–†–ê–ù 5: –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ê–£–ù–î–ê -->
        <section id="screen-summary" class="pop-screen">
            <h2 class="pop-title" style="font-size: 2rem;">–ò–¢–û–ì–ò</h2>
            <div class="summary-box" id="round-total-points">+5 –û–ß–ö–û–í</div>
            
            <div class="pop-list" id="words-review">
                <!-- –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤ –¥–ª—è –ø—Ä–∞–≤–∫–∏ -->
            </div>
            
            <button class="btn-pop-main" onclick="confirmSummary()">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
        </section>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–∞–≤–∏–ª -->
    <div id="modal-rules" class="modal-overlay" onclick="toggleModal('rules')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h3 style="font-weight: 900; margin-bottom: 15px;">–ü–†–ê–í–ò–õ–ê</h3>
            <p>1. –û–±—ä—è—Å–Ω—è–π—Ç–µ —Å–ª–æ–≤–∞, –Ω–µ –Ω–∞–∑—ã–≤–∞—è –æ–¥–Ω–æ–∫–æ—Ä–µ–Ω–Ω—ã—Ö.<br>
               2. –°—É–¥—å—è —Å–ª–µ–¥–∏—Ç –∑–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç—å—é –∏ —Å–≤–∞–π–ø–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏.<br>
               3. –ü–æ–±–µ–∂–¥–∞–µ—Ç —Ç–æ—Ç, –∫—Ç–æ –ø–µ—Ä–≤—ã–º –Ω–∞–±–µ—Ä–µ—Ç –Ω—É–∂–Ω—ã–π —Å—á–µ—Ç!</p>
            <button class="btn-pop-main" style="width: 100%; margin-top: 20px;" onclick="toggleModal('rules')">–ü–û–ù–Ø–¢–ù–û</button>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="script.js"></script>
</body>
</html>