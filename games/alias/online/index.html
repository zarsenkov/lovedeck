<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Alias Online - LoveCouple</title>
    <link rel="stylesheet" href="../style.css">
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω—ã—Ö –±–æ–∫—Å–æ–≤ –≤ –ª–æ–±–±–∏ */
        .team-box { transition: all 0.3s ease; background: rgba(255,255,255,0.1); }
        .active-team { transform: scale(1.02); background: rgba(255,255,255,0.2); }
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–≤–∞–π–ø–æ–≤ */
        #main-card { touch-action: none; user-select: none; position: relative; }
        .game-actions { display: flex; justify-content: space-between; width: 100%; gap: 15px; margin-top: 20px; }
        .btn-check { background: var(--mint) !important; flex: 1; }
        .btn-skip { background: var(--purple) !important; flex: 1; }
        /* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞–º–∏ */
        #rounds-range { width: 100%; margin: 10px 0; accent-color: var(--purple); }
    </style>
</head>
<body>
    <div class="app-shell">
        <div id="menu-controls">
            <div class="home-btn" onclick="location.href='../index.html'">üè†</div>
            <div class="rules-btn" id="rules-icon" onclick="toggleOnlineRules(true)">?</div>
        </div>

        <header class="pop-header" id="game-header" style="visibility: hidden;">
            <div class="back-circle" onclick="location.reload()">‚öôÔ∏è</div>
            <div class="timer-bubble" id="timer">00:00</div>
            <div class="score-pill">üî• <span id="live-score">0</span></div>
        </header>

        <section class="pop-screen active" id="screen-auth">
            <h1 class="pop-title">AL<span>IAS</span> ON</h1>
            <div class="card-glass shadow-box">
                <input type="text" id="player-name" class="joy-input" placeholder="–¢–≤–æ—ë –∏–º—è">
                <input type="text" id="room-id" class="joy-input" placeholder="ID –∫–æ–º–Ω–∞—Ç—ã (–¥–ª—è –≤—Ö–æ–¥–∞)">
                <div class="btn-group">
                    <button class="btn-pop-main" onclick="createOnlineGame()">–°–û–ó–î–ê–¢–¨</button>
                    <button class="btn-pop-main btn-secondary" onclick="joinOnlineGame()">–í–û–ô–¢–ò</button>
                </div>
            </div>
        </section>

        <section class="pop-screen" id="screen-lobby">
            <h2 class="pop-title">–õ–û–ë–ë–ò</h2>
            <div class="summary-box">
                <p>ROOM ID: <span id="display-room-id" style="font-weight: bold; color: var(--purple);">----</span></p>
            </div>
            
            <div id="host-settings" style="display:none; margin: 20px 0;">
                <p class="section-label">–ö–û–õ–ò–ß–ï–°–¢–í–û –†–ê–£–ù–î–û–í: <span id="round-val">3</span></p>
                <input type="range" id="rounds-range" min="1" max="10" value="3" oninput="updateRoundsDisplay(this.value)">
                
                <p class="section-label" style="margin-top: 15px;">–í–†–ï–ú–Ø –ù–ê –•–û–î</p>
                <div class="chips-group" style="display: flex; justify-content: center; gap: 10px;">
                    <div class="pop-chip active" onclick="setOnlineTime(60, this)">60—Å</div>
                    <div class="pop-chip" onclick="setOnlineTime(90, this)">90—Å</div>
                </div>
            </div>

            <div id="player-list" class="pop-list"></div>

            <div id="lobby-footer" style="margin-top: 20px;">
                <button id="start-btn-online" class="btn-pop-main" style="display:none;" onclick="requestStart()">–°–¢–ê–†–¢</button>
                <p id="wait-msg" style="font-size: 0.8rem; opacity: 0.7;">–û–∂–∏–¥–∞–µ–º, –∫–æ–≥–¥–∞ —Ö–æ—Å—Ç –∑–∞–ø—É—Å—Ç–∏—Ç –∏–≥—Ä—É...</p>
            </div>
        </section>

        <section class="pop-screen" id="screen-game">
            <div class="card-container">
                <div class="pop-card word-card" id="main-card">
                    <h2 id="word-display">–ü–†–ò–ì–û–¢–û–í–¨–¢–ï–°–¨...</h2>
                </div>
            </div>
            
            <div class="game-actions" id="game-controls" style="display: none;">
                <button class="btn-pop-main btn-skip" onclick="handleOnlineWord(false)">–ü–†–û–ü–£–°–ö</button>
                <button class="btn-pop-main btn-check" onclick="handleOnlineWord(true)">–£–ì–ê–î–ê–ù–û</button>
            </div>
        </section>

        <section class="pop-screen" id="screen-results">
            <h2 class="pop-title">–§–ò–ù–ê–õ</h2>
            <div class="summary-box" id="final-results-list">
                </div>
            <button class="btn-pop-main" onclick="location.reload()" style="margin-top: 20px;">–í –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ</button>
        </section>
    </div>

    <div class="modal-overlay" id="modal-online-rules" style="display: none;">
        <div class="modal-card">
            <h3>–ü–†–ê–í–ò–õ–ê ONLINE</h3>
            <ul style="text-align: left; font-size: 0.9rem; line-height: 1.4;">
                <li>–ö–æ–º–∞–Ω–¥—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</li>
                <li>–û–±—ä—è—Å–Ω—è—é—â–∏–π –≤–∏–¥–∏—Ç —Å–ª–æ–≤–æ –∏ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.</li>
                <li>–ï–≥–æ –∫–æ–º–∞–Ω–¥–∞ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–æ (–º–æ–∂–µ—Ç–µ —É–≥–∞–¥—ã–≤–∞—Ç—å –≥–æ–ª–æ—Å–æ–º).</li>
                <li>–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫–∏ –Ω–µ –≤–∏–¥—è—Ç —Å–ª–æ–≤–æ –¥–æ –∫–æ–Ω—Ü–∞ —Ö–æ–¥–∞.</li>
                <li>–°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ ‚Äî —É–≥–∞–¥–∞–Ω–æ, –≤–ª–µ–≤–æ ‚Äî –ø—Ä–æ–ø—É—Å–∫.</li>
            </ul>
            <button class="btn-pop-main" onclick="toggleOnlineRules(false)">–ü–û–ù–Ø–¢–ù–û</button>
        </div>
    </div>

    <script src="cards.js"></script>
    <script src="script.js"></script>
</body>
</html>
