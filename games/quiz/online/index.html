<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–í–ò–ó –ë–ê–¢–¢–õ ONLINE</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
    <div class="app-container">
        <button class="nav-btn back-btn" onclick="goBack()">‚Üê</button>
        <button class="nav-btn rules-btn" onclick="toggleRules(true)">?</button>

        <section class="screen active" id="auth-screen">
            <div class="logo-area">
                <div class="emoji-float">üåê</div>
                <h1 class="main-title">–ö–í–ò–ó<span>ONLINE</span></h1>
            </div>
            <div class="card-glass">
                <p class="section-tag">–í–•–û–î –í –°–ï–¢–¨</p>
                <input type="text" id="player-name" class="joy-input" placeholder="–¢–≤–æ–µ –∏–º—è" style="margin-bottom: 15px;">
                <input type="text" id="room-id" class="joy-input" placeholder="ID –∫–æ–º–Ω–∞—Ç—ã (–¥–ª—è –≤—Ö–æ–¥–∞)">
                
                <button class="primary-btn" onclick="createRoom()" style="background: var(--green); color:white;">–°–û–ó–î–ê–¢–¨ –ö–û–ú–ù–ê–¢–£</button>
                <button class="primary-btn" onclick="joinRoom()">–ü–†–ò–°–û–ï–î–ò–ù–ò–¢–¨–°–Ø</button>
            </div>
        </section>

        <section class="screen" id="lobby-screen">
            <div class="logo-area">
                <h2 id="display-room-id" style="color: white; font-size: 1.8rem; text-shadow: 2px 2px 0 var(--text);">ROOM: ---</h2>
            </div>
            <div class="card-glass">
                <p class="section-tag">–ò–ì–†–û–ö–ò –í –û–ß–ï–†–ï–î–ò</p>
                <div id="lobby-players-list" class="players-container">
                    </div>

                <p class="section-tag" style="margin-top:20px" id="cats-title">–í–´–ë–û–† –¢–ï–ú (–¢–û–õ–¨–ö–û –•–û–°–¢)</p>
                <div class="category-grid" id="categories-box">
                    </div>
            </div>
            <button id="start-game-btn" class="primary-btn pulse" onclick="requestStart()" style="display: none;">–ù–ê–ß–ê–¢–¨ –ë–ê–¢–¢–õ</button>
        </section>

        <section class="screen" id="transfer-screen">
            <div class="transfer-card">
                <div class="avatar-circle">üë§</div>
                <p>–°–ï–ô–ß–ê–° –û–¢–í–ï–ß–ê–ï–¢:</p>
                <h2 id="next-player-name" class="big-name">---</h2>
                <div id="transfer-status" class="hint-text">–ñ–¥–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏...</div>
                <button id="ready-btn" class="primary-btn" onclick="playerReady()" style="display:none;">–Ø –ì–û–¢–û–í!</button>
            </div>
        </section>

        <section class="screen" id="game-screen">
            <div class="game-top">
                <div class="timer-pill" id="timer-display">30</div>
                <div class="score-pill">–°–ß–ï–¢: <span id="score-counter">0</span></div>
            </div>
            <div class="player-indicator" id="current-active-player">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div class="question-container">
                <h2 id="question-text">–í–æ–ø—Ä–æ—Å...</h2>
            </div>
            <div class="answers-stack" id="answers-box"></div>
        </section>

        <section class="screen" id="result-screen">
            <h1 class="main-title-small" style="color:white; text-align:center;">–§–ò–ù–ê–õ</h1>
            <div class="card-glass" id="final-results"></div>
            <button class="primary-btn" onclick="goBack()">–í –ú–ï–ù–Æ</button>
        </section>

        <div id="rules-modal" class="modal-overlay" onclick="toggleRules(false)">
            <div class="modal-card" onclick="event.stopPropagation()">
                <h2>–ü–†–ê–í–ò–õ–ê üìñ</h2>
                <div class="rules-list-fixed">
                    <div class="rule-row"><span>1</span> –ò–≥—Ä–æ–∫–∏ –æ—Ç–≤–µ—á–∞—é—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏.</div>
                    <div class="rule-row"><span>2</span> –£ –∫–∞–∂–¥–æ–≥–æ –ø–æ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–∞—É–Ω–¥.</div>
                    <div class="rule-row"><span>3</span> –ü–æ–±–µ–¥–∏—Ç —Ç–æ—Ç, –∫—Ç–æ –Ω–∞–±–µ—Ä–µ—Ç –±–æ–ª—å—à–µ –æ—á–∫–æ–≤.</div>
                </div>
                <button class="primary-btn" onclick="toggleRules(false)">–ü–û–ù–Ø–¢–ù–û</button>
            </div>
        </div>
    </div>

    <script src="questions.js"></script>
    <script src="script.js"></script>
</body>
</html>
