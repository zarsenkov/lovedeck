:root {
    --bg: #1a1a2e;
    --card-w: 260px;
    --card-h: 380px;
}

body {
    background: var(--bg);
    color: white;
    font-family: 'Exo 2', sans-serif;
    perspective: 1000px; /* Глубина сцены */
    overflow-x: hidden;
}

.shelf-wrapper { padding: 60px 20px; text-align: center; }
.shelf-title { font-size: 40px; font-weight: 900; letter-spacing: 5px; margin-bottom: 60px; opacity: 0.3; }

.shelf-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 50px;
}

/* Контейнер для 3D */
.card-3d-wrap {
    width: var(--card-w);
    height: var(--card-h);
    transition: transform 0.1s;
}

.card-3d {
    width: 100%; height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
}

.card-front {
    position: absolute; width: 100%; height: 100%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    display: flex; align-items: center; justify-content: center;
    z-index: 2;
    backface-visibility: hidden;
    border: 1px solid rgba(255,255,255,0.1);
}

.card-content { transform: translateZ(50px); /* Выносит текст "вперед" из карточки */ }

.card-icon { font-size: 60px; margin-bottom: 20px; display: block; }
.card-name { font-size: 32px; font-weight: 900; }
.card-tag { font-size: 12px; letter-spacing: 2px; opacity: 0.6; }

/* Динамическая тень под карточкой */
.card-shadow {
    position: absolute; top: 10%; left: 10%; width: 80%; height: 80%;
    background: rgba(0,0,0,0.5);
    filter: blur(30px);
    transform: translateZ(-50px);
    z-index: 1;
}

/* Эффект при наведении */
.card-3d-wrap:hover .card-3d {
    transform: rotateY(15deg) rotateX(10deg);
}

.spy-bg { background: linear-gradient(135deg, #232526 0%, #414345 100%); }
.dan-bg { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }