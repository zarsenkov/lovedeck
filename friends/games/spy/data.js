// База данных для игры "Шпион"
const SpyData = {
    // Категории локаций
    categories: {
        public: {
            name: "Общественные места",
            icon: "fas fa-city",
            color: "#3b82f6",
            locations: [
                {
                    name: "Аэропорт",
                    description: "Место взлёта и посадки самолётов",
                    keywords: ["самолёт", "рейс", "багаж", "регистрация", "взлёт", "посадка", "терминал", "стойка"],
                    questions: [
                        "Это место связано с путешествиями?",
                        "Нужно ли здесь предъявлять документы?",
                        "Можно ли здесь купить билеты?"
                    ]
                },
                {
                    name: "Ресторан",
                    description: "Заведение, где готовят и подают еду",
                    keywords: ["еда", "официант", "меню", "столик", "кухня", "заказ", "чаевые", "ужин"],
                    questions: [
                        "Здесь можно поесть?",
                        "Нужно ли оставлять чаевые?",
                        "Есть ли здесь официанты?"
                    ]
                },
                {
                    name: "Больница",
                    description: "Место, где лечат больных",
                    keywords: ["врач", "пациент", "лекарства", "операция", "скорая", "рецепт", "палата", "медсестра"],
                    questions: [
                        "Люди приходят сюда, когда болеют?",
                        "Здесь работают врачи?",
                        "Можно ли здесь получить лечение?"
                    ]
                },
                {
                    name: "Школа",
                    description: "Учебное заведение для детей",
                    keywords: ["учитель", "урок", "тетрадь", "класс", "звонок", "учебник", "директор", "перемена"],
                    questions: [
                        "Сюда приходят, чтобы учиться?",
                        "Есть ли здесь учителя?",
                        "Можно ли здесь получить образование?"
                    ]
                },
                {
                    name: "Банк",
                    description: "Финансовое учреждение",
                    keywords: ["деньги", "счёт", "кредит", "кассир", "банкомат", "вклад", "валюта", "перевод"],
                    questions: [
                        "Это связано с деньгами?",
                        "Можно ли здесь получить кредит?",
                        "Работают ли здесь кассиры?"
                    ]
                },
                {
                    name: "Супермаркет",
                    description: "Большой магазин с продуктами",
                    keywords: ["покупки", "тележка", "касса", "продукты", "скидки", "полки", "чек", "очередь"],
                    questions: [
                        "Здесь можно купить еду?",
                        "Нужна ли здесь тележка?",
                        "Есть ли здесь кассиры?"
                    ]
                },
                {
                    name: "Отель",
                    description: "Место для временного проживания",
                    keywords: ["номер", "регистрация", "горничная", "лобби", "ключ", "бронирование", "стойка", "завтрак"],
                    questions: [
                        "Здесь можно переночевать?",
                        "Нужна ли регистрация?",
                        "Есть ли здесь номера?"
                    ]
                },
                {
                    name: "Библиотека",
                    description: "Место с книгами для чтения и учёбы",
                    keywords: ["книги", "тишина", "полки", "чтение", "библиотекарь", "абонемент", "зал", "каталог"],
                    questions: [
                        "Здесь нужно соблюдать тишину?",
                        "Можно ли здесь взять книги?",
                        "Работает ли здесь библиотекарь?"
                    ]
                }
            ]
        },
        nature: {
            name: "Природа",
            icon: "fas fa-tree",
            color: "#10b981",
            locations: [
                {
                    name: "Пляж",
                    description: "Песчаный берег у моря или океана",
                    keywords: ["песок", "море", "солнце", "отдых", "волны", "купание", "шезлонг", "загар"],
                    questions: [
                        "Это связано с водой?",
                        "Можно ли здесь загорать?",
                        "Есть ли здесь песок?"
                    ]
                },
                {
                    name: "Лес",
                    description: "Большая территория, покрытая деревьями",
                    keywords: ["деревья", "грибы", "прогулка", "тишина", "тропа", "ягоды", "воздух", "поход"],
                    questions: [
                        "Здесь много деревьев?",
                        "Можно ли собирать грибы?",
                        "Тише ли здесь, чем в городе?"
                    ]
                },
                {
                    name: "Горы",
                    description: "Возвышенности на поверхности Земли",
                    keywords: ["вершина", "подъём", "снег", "альпинист", "тропа", "обзор", "высота", "скалы"],
                    questions: [
                        "Нужно ли подниматься вверх?",
                        "Может ли здесь быть снег?",
                        "Ходят ли сюда альпинисты?"
                    ]
                },
                {
                    name: "Пустыня",
                    description: "Засушливая область с малым количеством осадков",
                    keywords: ["песок", "жара", "верблюд", "оазис", "кактус", "дюны", "засуха", "мираж"],
                    questions: [
                        "Здесь очень жарко?",
                        "Много ли здесь песка?",
                        "Можно ли встретить верблюда?"
                    ]
                },
                {
                    name: "Океан",
                    description: "Огромный водный массив",
                    keywords: ["вода", "волны", "рыбы", "корабли", "глубина", "приливы", "моряк", "остров"],
                    questions: [
                        "Это связано с водой?",
                        "Можно ли плавать на кораблях?",
                        "Есть ли здесь волны?"
                    ]
                }
            ]
        },
        entertainment: {
            name: "Развлечения",
            icon: "fas fa-film",
            color: "#8b5cf6",
            locations: [
                {
                    name: "Кинотеатр",
                    description: "Место для просмотра фильмов",
                    keywords: ["фильм", "билет", "экран", "попкорн", "сеанс", "ряд", "кино", "зал"],
                    questions: [
                        "Здесь показывают фильмы?",
                        "Нужно ли покупать билеты?",
                        "Есть ли здесь экран?"
                    ]
                },
                {
                    name: "Театр",
                    description: "Место для постановки спектаклей",
                    keywords: ["сцена", "актёр", "спектакль", "занавес", "аплодисменты", "партер", "балкон", "антракт"],
                    questions: [
                        "Здесь выступают актёры?",
                        "Есть ли здесь сцена?",
                        "Можно ли увидеть спектакль?"
                    ]
                },
                {
                    name: "Концертный зал",
                    description: "Место для проведения концертов",
                    keywords: ["музыка", "сцена", "зрители", "аплодисменты", "артист", "микрофон", "свет", "звук"],
                    questions: [
                        "Здесь выступают музыканты?",
                        "Есть ли здесь сцена?",
                        "Собираются ли здесь зрители?"
                    ]
                },
                {
                    name: "Парк развлечений",
                    description: "Место с аттракционами и развлечениями",
                    keywords: ["аттракцион", "карусель", "билет", "очередь", "радость", "адреналин", "колесо", "горка"],
                    questions: [
                        "Здесь можно покататься на аттракционах?",
                        "Нужны ли здесь билеты?",
                        "Приходят ли сюда ради развлечения?"
                    ]
                },
                {
                    name: "Зоопарк",
                    description: "Место, где содержат животных",
                    keywords: ["животные", "клетки", "посетители", "кормление", "слоны", "львы", "обезьяны", "птицы"],
                    questions: [
                        "Можно ли увидеть животных?",
                        "Есть ли здесь клетки?",
                        "Приходят ли сюда семьями?"
                    ]
                }
            ]
        },
        professions: {
            name: "Профессии",
            icon: "fas fa-briefcase",
            color: "#f59e0b",
            locations: [
                {
                    name: "Космонавт",
                    description: "Человек, который летает в космос",
                    keywords: ["ракета", "космос", "скафандр", "МКС", "невесомость", "орбита", "запуск", "спутник"],
                    questions: [
                        "Эта работа связана с космосом?",
                        "Нужен ли специальный костюм?",
                        "Летают ли эти люди на ракетах?"
                    ]
                },
                {
                    name: "Пожарный",
                    description: "Специалист по тушению пожаров",
                    keywords: ["пожар", "вода", "шланг", "каска", "машина", "спасение", "огонь", "лестница"],
                    questions: [
                        "Эта работа связана с огнём?",
                        "Есть ли специальная машина?",
                        "Нужна ли защитная каска?"
                    ]
                },
                {
                    name: "Полицейский",
                    description: "Сотрудник правоохранительных органов",
                    keywords: ["закон", "наручники", "патруль", "униформа", "протокол", "преступник", "свисток", "погоны"],
                    questions: [
                        "Эта работа связана с законом?",
                        "Носят ли специальную форму?",
                        "Могут ли задерживать людей?"
                    ]
                },
                {
                    name: "Врач",
                    description: "Специалист в области медицины",
                    keywords: ["больница", "пациент", "операция", "рецепт", "белый халат", "лекарство", "диагноз", "аптека"],
                    questions: [
                        "Эта работа связана с лечением?",
                        "Носят ли белый халат?",
                        "Работают ли с пациентами?"
                    ]
                },
                {
                    name: "Учитель",
                    description: "Специалист, который обучает других",
                    keywords: ["школа", "ученики", "урок", "доска", "журнал", "оценки", "знания", "класс"],
                    questions: [
                        "Эта работа связана с обучением?",
                        "Работают ли в школе?",
                        "Ставят ли оценки?"
                    ]
                }
            ]
        }
    },

    // Вопросы для обсуждения
    discussionQuestions: [
        "Эта локация находится внутри здания или на улице?",
        "Нужно ли платить, чтобы попасть в это место?",
        "Часто ли люди посещают это место?",
        "Можно ли прийти сюда один или лучше компанией?",
        "Эта локация больше подходит для работы или отдыха?",
        "Есть ли здесь сотрудники, которые помогают посетителям?",
        "Можно ли провести здесь целый день?",
        "Эта локация популярна у детей?",
        "Нужно ли специальное оборудование для посещения?",
        "Эта локация существует уже много лет или это современное место?"
    ],

    // Советы для шпиона
    spyTips: [
        "Задавайте общие вопросы, не показывая незнания",
        "Слушайте внимательно, что говорят другие игроки",
        "Повторяйте фразы других игроков, слегка изменяя их",
        "Не пытайтесь угадать локацию слишком рано",
        "Играйте роль уверенного мирного игрока",
        "Замечайте, кто больше всех говорит о локации",
        "Если сомневаетесь, лучше помолчите и послушайте",
        "Не спорьте с другими о деталях локации"
    ],

    // Настройки по умолчанию
    defaultSettings: {
        playerCount: 6,
        spyCount: 1,
        timerEnabled: true,
        discussionTime: 90,
        categories: ['public', 'nature', 'entertainment', 'professions'],
        gameMode: 'classic',
        roleTimer: 10
    },

    // Вспомогательные функции
    getRandomLocation: function(categories) {
        const selectedCategories = categories || this.defaultSettings.categories;
        let allLocations = [];
        
        selectedCategories.forEach(category => {
            if (this.categories[category]) {
                allLocations = allLocations.concat(this.categories[category].locations);
            }
        });
        
        if (allLocations.length === 0) {
            // Если нет выбранных категорий, используем все
            Object.values(this.categories).forEach(category => {
                allLocations = allLocations.concat(category.locations);
            });
        }
        
        return allLocations[Math.floor(Math.random() * allLocations.length)];
    },

    getRandomQuestions: function(count) {
        const shuffled = [...this.discussionQuestions].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, count);
    },

    getRandomSpyTips: function(count) {
        const shuffled = [...this.spyTips].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, count);
    },

    getCategoryByName: function(categoryName) {
        return this.categories[categoryName];
    },

    getAllLocations: function() {
        let allLocations = [];
        Object.values(this.categories).forEach(category => {
            allLocations = allLocations.concat(category.locations);
        });
        return allLocations;
    }
};