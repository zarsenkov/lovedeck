<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Крокодил & Алиас | LoveCouple Friends</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="crocodile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <!-- Шапка -->
        <header class="game-header">
            <button class="back-btn" onclick="goBack()">
                <i class="fas fa-arrow-left"></i>
                <span>Назад</span>
            </button>
            
            <div class="header-title">
                <div class="game-icon-sm">
                    <i class="fas fa-hand-sparkles" id="gameIcon"></i>
                </div>
                <h1 id="gameTitle">КРОКОДИЛ</h1>
                <p id="gameSubtitle">Объясняй слова без слов</p>
            </div>
            
            <button class="menu-btn" onclick="toggleMenu()">
                <i class="fas fa-ellipsis-v"></i>
            </button>
        </header>

        <!-- Главный экран -->
        <main id="mainScreen" class="screen active">
            <div class="game-options">
                <h2><i class="fas fa-sliders-h"></i> Настройки игры</h2>
                
                <!-- Тип игры -->
                <div class="option-group">
                    <label class="option-label">Тип игры</label>
                    <div class="game-type-buttons">
                        <button class="type-btn active" data-type="show">
                            <i class="fas fa-hand-sparkles"></i> Показывать
                        </button>
                        <button class="type-btn" data-type="explain">
                            <i class="fas fa-comments"></i> Объяснять
                        </button>
                    </div>
                    <p class="type-hint" id="typeHint">
                        Показывай слова жестами и мимикой
                    </p>
                </div>

                <!-- Категории слов -->
                <div class="option-group">
                    <label class="option-label">Категории слов</label>
                    <div class="categories-grid" id="categoriesGrid">
                        <!-- Заполняется скриптом -->
                    </div>
                </div>

                <!-- Количество слов -->
                <div class="option-group">
                    <label class="option-label">Количество слов</label>
                    <div class="words-count">
                        <div class="count-display">
                            <span id="wordsCountValue">10</span> слов
                        </div>
                        <input type="range" id="wordsCountSlider" min="5" max="50" step="5" value="10">
                        <div class="count-presets">
                            <button class="count-preset" data-count="5">5</button>
                            <button class="count-preset active" data-count="10">10</button>
                            <button class="count-preset" data-count="15">15</button>
                            <button class="count-preset" data-count="20">20</button>
                        </div>
                    </div>
                </div>

                <!-- Время на слово -->
                <div class="option-group">
                    <label class="option-label">Время на слово</label>
                    <div class="timer-options">
                        <div class="timer-display">
                            <span id="timerValue">60</span> сек
                        </div>
                        <input type="range" id="timerSlider" min="30" max="120" step="10" value="60">
                        <div class="timer-presets">
                            <button class="timer-preset" data-seconds="30">30с</button>
                            <button class="timer-preset active" data-seconds="60">60с</button>
                            <button class="timer-preset" data-seconds="90">90с</button>
                            <button class="timer-preset" data-seconds="120">120с</button>
                        </div>
                    </div>
                </div>

                <!-- Режим игры -->
                <div class="option-group">
                    <label class="option-label">Режим игры</label>
                    <div class="mode-buttons">
                        <button class="mode-btn active" data-mode="classic">
                            <i class="fas fa-user"></i> Классика
                        </button>
                        <button class="mode-btn" data-mode="teams">
                            <i class="fas fa-users"></i> Команды
                        </button>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-primary" onclick="startGame()">
                    <i class="fas fa-play"></i> Начать игру
                </button>
                <button class="btn-secondary" onclick="showCustomCards()">
                    <i class="fas fa-edit"></i> Свои слова
                </button>
            </div>
        </main>

        <!-- Экран игры -->
        <div id="gameScreen" class="screen">
            <div class="game-info">
                <div class="current-round">
                    Слово <span id="currentWordNum">1</span> из <span id="totalWords">10</span>
                </div>
                <div class="timer-container">
                    <div class="timer-circle">
                        <svg viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" class="timer-bg"></circle>
                            <circle cx="50" cy="50" r="45" class="timer-progress"></circle>
                        </svg>
                        <div class="timer-text" id="timerText">60</div>
                    </div>
                </div>
                <div class="score-display">
                    <i class="fas fa-star"></i>
                    <span id="currentScore">0</span>
                </div>
            </div>

            <div class="word-display">
                <h2 id="currentWord">Загрузка...</h2>
                <div class="word-info">
                    <span class="word-category" id="wordCategory"></span>
                    <span class="game-type-indicator" id="gameTypeIndicator">
                        <i class="fas fa-hand-sparkles"></i> Показывать
                    </span>
                </div>
            </div>

            <div class="rules-reminder" id="rulesReminder">
                <i class="fas fa-info-circle"></i>
                <span id="rulesText">Показывай слова жестами и мимикой, без слов</span>
            </div>

            <div class="game-controls">
                <div class="control-buttons">
                    <button class="control-btn skip" onclick="skipWord()">
                        <i class="fas fa-forward"></i> Пропустить
                    </button>
                    <button class="control-btn correct" onclick="correctGuess()">
                        <i class="fas fa-check"></i> Угадано
                    </button>
                    <button class="control-btn wrong" onclick="wrongGuess()">
                        <i class="fas fa-times"></i> Не угадано
                    </button>
                </div>
                
                <div class="team-scores" id="teamScores" style="display: none;">
                    <!-- Для режима команд -->
                </div>

                <div class="game-actions">
                    <button class="btn-danger" onclick="endGame()">
                        <i class="fas fa-stop"></i> Завершить игру
                    </button>
                </div>
            </div>
        </div>

        <!-- Экран результатов -->
        <div id="resultsScreen" class="screen">
            <div class="results-header">
                <h2><i class="fas fa-trophy"></i> Игра завершена!</h2>
                <div class="winner-info" id="winnerInfo" style="display: none;">
                    <h3 id="winnerText"></h3>
                </div>
            </div>

            <div class="results-stats">
                <div class="result-stat">
                    <div class="result-value" id="finalScore">0</div>
                    <div class="result-label">Очков</div>
                </div>
                <div class="result-stat">
                    <div class="result-value" id="wordsGuessed">0</div>
                    <div class="result-label">Угадано слов</div>
                </div>
                <div class="result-stat">
                    <div class="result-value" id="totalWordsPlayed">0</div>
                    <div class="result-label">Всего слов</div>
                </div>
                <div class="result-stat">
                    <div class="result-value" id="gameTypeResult">
                        <i class="fas fa-hand-sparkles"></i>
                    </div>
                    <div class="result-label">Режим</div>
                </div>
            </div>

            <div class="team-results" id="teamResults" style="display: none;">
                <h3>Результаты команд</h3>
                <div class="team-results-grid" id="teamResultsGrid">
                    <!-- Результаты команд -->
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-primary" onclick="playAgain()">
                    <i class="fas fa-redo"></i> Играть снова
                </button>
                <button class="btn-secondary" onclick="goToMain()">
                    <i class="fas fa-home"></i> В меню
                </button>
            </div>
        </div>

        <!-- Экран своих слов -->
        <div id="customScreen" class="screen">
            <div class="custom-header">
                <h2><i class="fas fa-edit"></i> Свои слова</h2>
                <p>Добавьте свои слова для игры</p>
            </div>

            <div class="custom-input">
                <textarea id="customWordsInput" placeholder="Введите слова или фразы, каждое с новой строки&#10;Пример:&#10;Космонавт&#10;Смартфон&#10;Вкусный ужин&#10;Заснеженная гора"></textarea>
                <div class="input-info">
                    <span id="wordCount">0 слов</span>
                    <button class="btn-sm" onclick="clearCustomWords()">
                        <i class="fas fa-trash"></i> Очистить
                    </button>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-primary" onclick="saveCustomWords()">
                    <i class="fas fa-save"></i> Сохранить
                </button>
                <button class="btn-secondary" onclick="goToMain()">
                    <i class="fas fa-times"></i> Отмена
                </button>
            </div>
        </div>

        <!-- Боковое меню -->
        <div id="sideMenu" class="side-menu">
            <div class="menu-content">
                <div class="menu-header">
                    <h3>Меню</h3>
                    <button class="close-menu" onclick="toggleMenu()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="menu-items">
                    <a href="#" class="menu-item" onclick="showRules(); toggleMenu();">
                        <i class="fas fa-book"></i> Правила
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно правил -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-book"></i> Правила игры</h2>
                <button class="close-modal" onclick="closeRules()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="rules-section">
                    <h3><i class="fas fa-hand-sparkles"></i> Режим "Показывать" (Крокодил)</h3>
                    <ul>
                        <li>Нельзя говорить, шептать или издавать звуки</li>
                        <li>Используйте только мимику и движения</li>
                        <li>Нельзя использовать окружающие предметы</li>
                        <li>+3 очка за каждое угаданное слово</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3><i class="fas fa-comments"></i> Режим "Объяснять" (Алиас)</h3>
                    <ul>
                        <li>Объясняйте слово любыми другими словами</li>
                        <li>Нельзя использовать однокоренные слова</li>
                        <li>Нельзя показывать жестами</li>
                        <li>Нельзя называть само слово или его перевод</li>
                        <li>+1 очко за каждое угаданное слово</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3><i class="fas fa-users"></i> Режимы игры</h3>
                    <ul>
                        <li><strong>Классика:</strong> Один объясняет, все угадывают</li>
                        <li><strong>Команды:</strong> Две команды соревнуются, очки начисляются команде</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="closeRules()">
                    Понятно!
                </button>
            </div>
        </div>
    </div>

    <!-- Кастомное модальное окно -->
    <div id="customModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Подтверждение</h2>
                <button class="close-modal" onclick="closeCustomModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p id="modalMessage">Вы уверены?</p>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="modalCancel()">
                    Отмена
                </button>
                <button class="btn-primary" onclick="modalConfirm()">
                    Да
                </button>
            </div>
        </div>
    </div>

    <script src="crocodile.js"></script>
    <script src="words.js"></script>
    <script>
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            initGame();
        });
    </script>
</body>
</html>