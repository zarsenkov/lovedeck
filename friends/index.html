<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    <title>GAMEPARTY</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
</head>
<body>
    <!-- Film Grain Overlay -->
    <div class="grain"></div>
    
    <!-- Persistent Header -->
    <header class="app-header">
        <a href="https://lovecouple.ru/" class="header-link">← LOVERCO.</a>
    </header>

    <!-- Flash Overlay for Haptic Feedback -->
    <div class="flash-overlay" id="flash"></div>

    <main class="app-main">
        
        <!-- HOME SCREEN -->
        <section class="screen active" id="screen-home">
            <div class="screen-inner">
                <h1 class="title-main">GAMEPARTY</h1>
                <div class="mode-selector">
                    <button class="mode-card" data-mode="alias">
                        <span class="mode-label">АЛИАС</span>
                        <span class="mode-desc">Объясняй словами</span>
                    </button>
                    <button class="mode-card" data-mode="crocodile">
                        <span class="mode-label">КРОКОДИЛ</span>
                        <span class="mode-desc">Показывай жестами</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- CATEGORY SCREEN -->
        <section class="screen" id="screen-categories">
            <div class="screen-inner">
                <h2 class="title-screen">ВЫБЕРИ КАТЕГОРИИ</h2>
                <div class="category-grid">
                    <label class="category-card">
                        <input type="checkbox" value="base" checked>
                        <span class="category-name">БАЗОВАЯ</span>
                    </label>
                    <label class="category-card">
                        <input type="checkbox" value="movies">
                        <span class="category-name">КИНО</span>
                    </label>
                    <label class="category-card">
                        <input type="checkbox" value="food">
                        <span class="category-name">ЕДА</span>
                    </label>
                    <label class="category-card">
                        <input type="checkbox" value="adult">
                        <span class="category-name">18+</span>
                    </label>
                </div>
                <button class="btn-primary" data-action="confirm-categories">ДАЛЕЕ</button>
            </div>
        </section>

        <!-- SETTINGS SCREEN -->
        <section class="screen" id="screen-settings">
            <div class="screen-inner">
                <h2 class="title-screen">НАСТРОЙКИ ИГРЫ</h2>
                <div class="settings-form">
                    <div class="input-group">
                        <label class="input-label">КОМАНДА 1</label>
                        <input type="text" class="input-field" id="team1" value="КРАСНЫЕ" maxlength="20">
                    </div>
                    <div class="input-group">
                        <label class="input-label">КОМАНДА 2</label>
                        <input type="text" class="input-field" id="team2" value="СИНИЕ" maxlength="20">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ВРЕМЯ РАУНДА (СЕК)</label>
                        <input type="number" class="input-field" id="round-time" value="60" min="30" max="120" step="10">
                    </div>
                </div>
                <button class="btn-primary" data-action="start-game">НАЧАТЬ ИГРУ</button>
            </div>
        </section>

        <!-- TEAM TURN SCREEN -->
        <section class="screen" id="screen-turn">
            <div class="screen-inner centered">
                <h2 class="turn-label">ГОТОВЫ?</h2>
                <h1 class="turn-team" id="turn-team-name"></h1>
                <p class="turn-mode" id="turn-mode-text"></p>
                <button class="btn-primary btn-huge" data-action="begin-round">ПОЕХАЛИ</button>
            </div>
        </section>

        <!-- GAME SCREEN -->
        <section class="screen" id="screen-game">
            <div class="game-ui">
                <div class="game-header">
                    <button class="btn-home" data-action="go-home" title="В меню">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                    </button>
                    <div class="timer-display">
                        <div class="timer-bar">
                            <div class="timer-fill" id="timer-fill"></div>
                        </div>
                        <span class="timer-text" id="timer-text">60</span>
                    </div>
                    <div class="score-display">
                        <span class="score-value" id="score-value">0</span>
                    </div>
                </div>

                <div class="card-area">
                    <div class="swipe-card" id="swipe-card">
                        <span class="card-word" id="card-word"></span>
                        <div class="swipe-indicator swipe-left">
                            <span>ПРОПУСТИТЬ</span>
                        </div>
                        <div class="swipe-indicator swipe-right">
                            <span>ВЕРНО</span>
                        </div>
                    </div>
                </div>

                <button class="btn-undo" id="btn-undo">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                        <path d="M3 7v6h6M21 17v-6h-6"/>
                        <path d="M3 13a9 9 0 0 1 9-9 9 9 0 0 1 9 9"/>
                    </svg>
                    ОТМЕНА
                </button>

                <div class="swipe-hints">
                    <div class="hint hint-left">
                        <span>← ПРОПУСТИТЬ (-1)</span>
                    </div>
                    <div class="hint hint-right">
                        <span>ВЕРНО (+1) →</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- ROUND SUMMARY SCREEN -->
        <section class="screen" id="screen-summary">
            <div class="screen-inner">
                <h2 class="summary-result" id="summary-result">РАУНД ЗАВЕРШЁН</h2>
                <div class="summary-stats">
                    <div class="stat-item">
                        <span class="stat-label">КОМАНДА</span>
                        <span class="stat-value" id="summary-team"></span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">СЧЁТ</span>
                        <span class="stat-value" id="summary-score"></span>
                    </div>
                </div>
                <div class="words-list">
                    <h3 class="words-title">СЫГРАНО СЛОВ</h3>
                    <div class="words-container" id="words-container"></div>
                </div>
                <div class="summary-actions">
                    <button class="btn-secondary" data-action="go-home">В МЕНЮ</button>
                    <button class="btn-primary" data-action="next-team">СЛЕДУЮЩАЯ КОМАНДА</button>
                </div>
            </div>
        </section>

    </main>

    <script src="cards.js"></script>
    <script src="script.js"></script>
</body>
</html>